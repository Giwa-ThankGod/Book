{% extends 'base.html' %}
{% load static %}
<script>
    
</script>
{% block content %}
<!-- Carousel Start -->
<div class="container-fluid p-0 pb-5 mb-5">
    <div id="header-carousel" class="carousel slide carousel-fade" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#header-carousel" data-slide-to="0" class="active"></li>
            <li data-target="#header-carousel" data-slide-to="1"></li>
            <li data-target="#header-carousel" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active" style="min-height: 300px;">
                <img class="position-relative w-100" src="{% static 'img/carousel-1.jpg' %}" style="min-height: 300px; object-fit: cover;">
                <div class="carousel-caption d-flex align-items-center justify-content-center">
                    <div class="p-5" style="width: 100%; max-width: 900px;">
                        <h5 class="text-white text-uppercase mb-md-3">Best Online Book Shelf</h5>
                        <h1 class="display-3 text-white mb-md-4">Best Education From Your Home</h1>
                        <a href="" class="btn btn-primary py-md-2 px-md-4 font-weight-semi-bold mt-2">Learn More</a>
                    </div>
                </div>
            </div>
            <div class="carousel-item" style="min-height: 300px;">
                <img class="position-relative w-100" src="{% static 'img/carousel-2.jpg' %}" style="min-height: 300px; object-fit: cover;">
                <div class="carousel-caption d-flex align-items-center justify-content-center">
                    <div class="p-5" style="width: 100%; max-width: 900px;">
                        <h5 class="text-white text-uppercase mb-md-3">Best Online Book Shelf</h5>
                        <h1 class="display-3 text-white mb-md-4">Best Online Book Platform</h1>
                        <a href="" class="btn btn-primary py-md-2 px-md-4 font-weight-semi-bold mt-2">Learn More</a>
                    </div>
                </div>
            </div>
            <div class="carousel-item" style="min-height: 300px;">
                <img class="position-relative w-100" src="{% static 'img/carousel-3.jpg' %}" style="min-height: 300px; object-fit: cover;">
                <div class="carousel-caption d-flex align-items-center justify-content-center">
                    <div class="p-5" style="width: 100%; max-width: 900px;">
                        <h5 class="text-white text-uppercase mb-md-3">Best Online Book Shelf</h5>
                        <h1 class="display-3 text-white mb-md-4">New Way To Access Books From Home</h1>
                        <a href="" class="btn btn-primary py-md-2 px-md-4 font-weight-semi-bold mt-2">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Carousel End -->


<!-- About Start -->
<a name="about"></a>
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-5">
                <img class="img-fluid rounded mb-4 mb-lg-0" src="{% static 'img/about.jpg' %}" alt="">
            </div>
            <div class="col-lg-7">
                <div class="text-left mb-4">
                    <h5 class="text-primary text-uppercase mb-3" style="letter-spacing: 5px;">About Us</h5>
                    <h1>Innovative Way To Learn</h1>
                </div>
                <p>Aliquyam accusam clita nonumy ipsum sit sea clita ipsum clita, ipsum dolores amet voluptua duo dolores et sit ipsum rebum, sadipscing et erat eirmod diam kasd labore clita est. Diam sanctus gubergren sit rebum clita amet, sea est sea vero sed et. Sadipscing labore tempor at sit dolor clita consetetur diam. Diam ut diam tempor no et, lorem dolore invidunt no nonumy stet ea labore, dolor justo et sit gubergren diam sed sed no ipsum. Sit tempor ut nonumy elitr dolores justo aliquyam ipsum stet</p>
                <a href="" class="btn btn-primary py-md-2 px-md-4 font-weight-semi-bold mt-2">Learn More</a>
            </div>
        </div>
    </div>
</div>
<!-- About End -->


<!-- Category Start -->
<div class="container-fluid py-5">
    <div class="container pt-5 pb-3">
        <div class="text-center mb-5">
            <h5 class="text-primary text-uppercase mb-3" style="letter-spacing: 5px;">Categories</h5>
            <h1>Explore Top Books</h1>
        </div>
        <div class="row">
            {% for category in categories %}
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="cat-item position-relative overflow-hidden rounded mb-2">
                    <img class="img-fluid" src="{{ category.imageUrl }}" alt="">
                    <a class="cat-overlay text-white text-decoration-none" href="{% url 'category' category.name %}">
                        <h4 class="text-white font-weight-medium">{{ category.name }}</h4>
                        <span>{{ category.book.count }} Books</span>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<!-- Category Start -->


<!-- Books Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="text-center mb-5">
            <h5 class="text-primary text-uppercase mb-3" style="letter-spacing: 5px;">Books</h5>
            <h1>Our Popular Books</h1>
        </div>
        <div class="row">
            {% for book in books %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="rounded overflow-hidden mb-2">
                    <img class="img-fluid" src="{{ book.imageUrl }}" alt="">
                    <div class="bg-secondary p-4">
                        <div class="d-flex justify-content-between mb-3">
                            <small class="m-0"><i class="fa fa-user text-primary mr-2"></i>{{ book.author }}</small>
                            <small class="m-0"><i class="far fa-clock text-primary mr-2"></i>01h 30m</small>
                        </div>
                        <a class="h5" href="">{{ book.title }}</a>
                        <div class="border-top mt-4 pt-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <!-- <h6 class="m-0"><i class="fa fa-star text-primary mr-2"></i>4.5 <small>(250)</small></h6> -->
                                <h5 class="m-0 text-dark">NGN {{ book.price }}</h5>
                                <button onclick="addCookieItem('{{ book.id }}', 'add')" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#cart"> 
                                    <i class="fa fa-plus"></i> Cart
                                </button>

                                <div class="modal fade" id="cart" tabindex="-1">
                                    <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <div class="alert alert-success alert-dismissible fade show" role="alert">
                                                    <i class="fa fa-check-circle me-1"></i>
                                                    Item successfully added to cart!!!
                                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="close"></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
            <div class="container text-center">
                <a class="btn btn-dark mr-3 flex-start" href="{% url 'books' %}">See More <i class="fa fa-book-open"></i> ...</a>
            </div>
    </div>
</div>
<!-- Books End -->


<!-- Registration Start -->
<div id="donate" class="container-fluid bg-registration py-5" style="margin: 90px 0;">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-7 mb-5 mb-lg-0">
                <div class="mb-4">
                    <h5 class="text-primary text-uppercase mb-3" style="letter-spacing: 5px;">Need Any Books</h5>
                    <h1 class="text-white">30% Off For First Timers</h1>
                </div>
                <p class="text-white">Invidunt lorem justo sanctus clita. Erat lorem labore ea, justo dolor lorem ipsum ut sed eos,
                    ipsum et dolor kasd sit ea justo. Erat justo sed sed diam. Ea et erat ut sed diam sea ipsum est
                    dolor</p>
                <ul class="list-inline text-white m-0">
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i>Labore eos amet dolor amet diam</li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i>Etsea et sit dolor amet ipsum</li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i>Diam dolor diam elitripsum vero.</li>
                </ul>
            </div>
            <div class="col-lg-5">
                <div class="card border-0">
                    <div id="msg" class="card-header bg-light text-center p-4">
                        <h1 class="m-0">Donate a Book</h1>
                    </div>
                    <div class="card-body rounded-bottom bg-primary p-5">
                        <form id="donate-form" method="post">
                            {% csrf_token %}
                            <div class="form-group">
                                {{ donate_form.name }}
                            </div>
                            <div class="form-group">
                                {{ donate_form.email }}
                            </div>
                            <div class="form-group">
                                {{ donate_form.phone }}
                            </div>
                            <div class="form-group">
                                <select id="select" name="value" class="custom-select border-0 px-4" style="height: 47px;">
                                    <option selected disabled>Select book category</option>
                                    {% for category in categories %}
                                        <option name="category" value="{{ category.name }}">{{ category.name }}</option>
                                    {% endfor %}
                                    <option>others</option>
                                </select>
                                <!-- {{ donate_form.category }} -->
                            </div>
                            <div class="form-group">
                                {{ donate_form.address }}
                            </div>
                            <div id="donate-button">
                                <button id="loading donate-btn" class="btn btn-dark btn-block border-0 py-3" type="submit">Donate</button> 
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Registration End -->


<!-- Team Start -->
<div class="container-fluid py-5">
    <div class="container pt-5 pb-3">
        <div class="text-center mb-5">
            <h5 class="text-primary text-uppercase mb-3" style="letter-spacing: 5px;">Authors</h5>
            <h1>Meet Our Authors</h1>
        </div>
        <div class="row">
            <div class="col-md-6 col-lg-3 text-center team mb-4">
                <div class="team-item rounded overflow-hidden mb-2">
                    <div class="team-img position-relative">
                        <img class="img-fluid" src="{% static 'img/team-1.jpg' %}" alt="">
                        <div class="team-social">
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-linkedin"></i></a>
                        </div>
                    </div>
                    <div class="bg-secondary p-4">
                        <h5>Jhon Doe</h5>
                        <p class="m-0">Web Designer</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 text-center team mb-4">
                <div class="team-item rounded overflow-hidden mb-2">
                    <div class="team-img position-relative">
                        <img class="img-fluid" src="{% static 'img/team-2.jpg' %}" alt="">
                        <div class="team-social">
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-linkedin"></i></a>
                        </div>
                    </div>
                    <div class="bg-secondary p-4">
                        <h5>Jhon Doe</h5>
                        <p class="m-0">Web Designer</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 text-center team mb-4">
                <div class="team-item rounded overflow-hidden mb-2">
                    <div class="team-img position-relative">
                        <img class="img-fluid" src="{% static 'img/team-3.jpg' %}" alt="">
                        <div class="team-social">
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-linkedin"></i></a>
                        </div>
                    </div>
                    <div class="bg-secondary p-4">
                        <h5>Jhon Doe</h5>
                        <p class="m-0">Web Designer</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 text-center team mb-4">
                <div class="team-item rounded overflow-hidden mb-2">
                    <div class="team-img position-relative">
                        <img class="img-fluid" src="{% static 'img/team-4.jpg' %}" alt="">
                        <div class="team-social">
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fa fa-linkedin"></i></a>
                        </div>
                    </div>
                    <div class="bg-secondary p-4">
                        <h5>Jhon Doe</h5>
                        <p class="m-0">Web Designer</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Team End -->

<script src="{% static 'jquery/jquery.min.js' %}"></script>
{% block javascript %}
<script>

    $(document).ready(function(){
        $(document).on('submit', '#donate-form', function(e){
        e.preventDefault()        

        var donate_success = '\
        <button id="donate-btn" class="btn btn-dark btn-block border-0 py-3" type="submit">\
            Successful\
        </button>'

        var success_msg = '\
            <div class="mt-2 alert-dismissible fade show" role="alert">\
                <i class="fa fa-info-circle"></i>\
                <p class="text-primary">Thank you for your kind gesture!!!</p>\
            </div>'
        
        console.log($('#id_name').val())
        
        $('#msg').append(msg) 

        $.ajax({
            type: 'POST',
            url: "{% url 'donate' %}",
            data: {
                name: 'Giwa',
                email: 'giwathankgod404@gmail.com',
                phone: '23456943043943',
                value: $('#select').val(),
                address: 'abcjohnavenue',
                csrfmiddlewaretoken: '{{ csrf_token }}'
            },
            success: function(response){
                $("#donate-form").trigger('reset');
                $('#donate-button').replaceWith(donate_success)
                $('#msg').append(success_msg)
            },
            error: function(data){
                $('#msg').append(msg)
            }
        })

    })
    })
</script>
{% endblock javascript %}
{% endblock %}